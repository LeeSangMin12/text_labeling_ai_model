# 개인정보 검사 결과 보고서

**작성일**: 2025년 10월 28일
**검사자**: 이상민
**검사 대상**: 텍스트 라벨링 AI 모델 학습 데이터셋

---

## 1. 검사 개요

### 검사 목적
- 데이터셋 내 개인정보 유출 여부 확인
- 개인정보보호법 준수 확인
- 데이터 안전성 검증

### 검사 대상 파일
1. **preprocessed_data.csv** (150,000건)
   - 전처리 완료 데이터셋
   - 위치: `data/final/preprocessed_data.csv`

2. **labeled_data.csv** (10,000건)
   - 라벨링 완료 데이터셋
   - 위치: `data/final/labeled_data.csv`

### 검사 항목
다음 개인정보 유형에 대해 검사를 수행함:
- 전화번호 (휴대전화, 일반전화)
- 이메일 주소
- 주민등록번호
- 계좌번호
- 여권번호

---

## 2. 검사 결과

### 2.1 preprocessed_data.csv (150,000건)

#### 발견된 개인정보

| 항목 | 발견 건수 | 상세 내용 |
|------|-----------|-----------|
| 전화번호 | 0건 | ✅ 모두 마스킹 처리됨 (`***-****-****`) |
| 이메일 | 0건 | ✅ 모두 마스킹 처리됨 (`****@****.***`) |
| 주민등록번호 | 0건 | ✅ 모두 마스킹 처리됨 (`******-*******`) |
| 계좌번호 | 0건 | ✅ 모두 마스킹 처리됨 (`***-***-****`) |
| **여권번호** | **1건** | ⚠️ **발견됨** |

#### 여권번호 상세 정보

**발견 위치:**
- **행 번호**: 106177
- **컬럼**: question
- **여권번호**: AF4576674
- **데이터 출처**: 클리앙 (clien)
- **카테고리**: IT/테크

**발견 내용:**
```
75인치 TV 선택을 도와주세요.
...
https://www.coupang.com/vp/products/***-****-****?...lptag=AF4576674...
```

**분석:**
- 쿠팡 제휴 링크의 파라미터(`lptag`)로 포함된 것으로 보임
- URL 구조 내에 포함되어 있어 개인정보 마스킹 패턴에서 누락됨
- 실제 여권번호인지 단순 제휴 태그인지 추가 확인 필요

**권고사항:**
- 해당 행(106177)의 여권번호 마스킹 처리 필요
- URL 파라미터 내 개인정보 검출 패턴 추가 필요

---

### 2.2 labeled_data.csv (10,000건)

#### 발견된 개인정보

| 항목 | 발견 건수 | 상태 |
|------|-----------|------|
| 전화번호 | 0건 | ✅ 안전 |
| 이메일 | 0건 | ✅ 안전 |
| 주민등록번호 | 0건 | ✅ 안전 |
| 계좌번호 | 0건 | ✅ 안전 |
| 여권번호 | 0건 | ✅ 안전 |

**결과:** 라벨링 데이터셋(labeled_data.csv)에는 개인정보가 검출되지 않음

---

## 3. 전체 평가

### 3.1 안전성 평가

**전반적 평가**: ✅ **양호**

- 전체 160,000건 중 1건의 여권번호 패턴만 발견됨 (0.0006%)
- 기본적인 개인정보(전화번호, 이메일, 주민등록번호)는 모두 안전하게 마스킹됨
- 최종 배포 데이터셋(labeled_data.csv)에는 개인정보 없음

### 3.2 적용된 익명처리 기법

우리 프로젝트에서 적용한 익명처리:
1. **정규표현식 기반 마스킹**
   - 전화번호: `01[016789][\s-]?\d{3,4}[\s-]?\d{4}` → `***-****-****`
   - 이메일: `[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}` → `****@****.***`
   - 주민등록번호: `\d{6}[\s-]?\d{7}` → `******-*******`
   - 계좌번호: `\d{3,4}[\s-]?\d{2,6}[\s-]?\d{4,6}` → `***-***-****`

2. **비속어 마스킹**
   - 약 20개 비속어 사전 기반 마스킹

3. **불용어 제거** (선택적)
   - KoNLPy 형태소 분석기 사용

### 3.3 보완 필요 사항

1. **여권번호 패턴 추가**
   ```python
   # 추가 필요 패턴
   passport_pattern = r'\b[A-Z]{2}\d{7}\b'
   text = re.sub(passport_pattern, '**-*******', text)
   ```

2. **URL 파라미터 내 개인정보 검출**
   - URL 쿼리 스트링 파싱 후 개인정보 검출 강화
   - `lptag`, `userId`, `memberId` 등 파라미터 검사

3. **추가 검증 패턴**
   - 외국인등록번호: `\d{6}[-]?\d{7}`
   - 운전면허번호: `\d{2}[-]?\d{2}[-]?\d{6}[-]?\d{2}`
   - 사업자등록번호: `\d{3}[-]?\d{2}[-]?\d{5}`

---

## 4. 조치 계획

### 4.1 즉시 조치 (긴급)

**대상**: preprocessed_data.csv 행 106177

```python
# 해당 행의 여권번호 마스킹 처리
import pandas as pd
import re

df = pd.read_csv('data/final/preprocessed_data.csv')
passport_pattern = r'\b[A-Z]{2}\d{7}\b'
df.loc[106177, 'question'] = re.sub(passport_pattern, '**-*******', df.loc[106177, 'question'])
df.to_csv('data/final/preprocessed_data.csv', index=False)
```

### 4.2 중기 조치 (1주일 내)

1. **전처리 파이프라인 업데이트**
   - `preprocessing/modules/text_cleaner.py`에 여권번호 마스킹 추가
   - URL 파라미터 검사 로직 추가

2. **전체 데이터셋 재검증**
   - 업데이트된 패턴으로 전체 데이터 재검사
   - 추가 개인정보 유형 검증

### 4.3 장기 조치 (1개월 내)

1. **자동화된 개인정보 검사 시스템 구축**
   - CI/CD 파이프라인에 개인정보 검사 단계 추가
   - 데이터 업데이트 시 자동 검증

2. **정기 감사 체계 수립**
   - 월 1회 정기 개인정보 검사
   - 검사 결과 문서화 및 이력 관리

---

## 5. 결론

### 종합 의견

현재 데이터셋은 **전반적으로 안전한 상태**이나, 1건의 여권번호 패턴이 발견되어 즉시 조치가 필요합니다.

- ✅ **장점**: 기본적인 개인정보는 철저히 마스킹됨
- ⚠️ **보완점**: URL 내 파라미터와 여권번호 패턴 추가 필요
- ✅ **최종 배포 데이터**: labeled_data.csv는 개인정보 없음 (안전)

### 법적 준수 여부

**개인정보보호법 제3조(개인정보 보호 원칙)** 준수:
- ✅ 개인정보의 익명처리를 위한 기술적 조치 수행
- ✅ 처리 목적에 필요한 범위 내에서만 수집
- ⚠️ 일부 개인정보 패턴(여권번호) 추가 보완 필요

**권고사항**: 즉시 조치 후 재검증을 통해 100% 안전성 확보 필요

---

## 부록

### A. 검사 방법론

**검사 도구**: Python 3.13.5
**사용 라이브러리**:
- pandas 2.0.0+
- re (정규표현식)

**검사 코드**:
```python
import pandas as pd
import re

# 데이터 로드
df = pd.read_csv('data/final/preprocessed_data.csv')

# 개인정보 패턴 정의
patterns = {
    '전화번호': r'01[016789][\s-]?\d{3,4}[\s-]?\d{4}',
    '이메일': r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}',
    '주민등록번호': r'\d{6}[\s-]?\d{7}',
    '여권번호': r'\b[A-Z]{2}\d{7}\b',
}

# 전체 데이터 검사
for col in ['question', 'answer']:
    for idx, text in enumerate(df[col]):
        if pd.notna(text):
            for name, pattern in patterns.items():
                matches = re.findall(pattern, str(text))
                if matches and '***' not in matches[0]:
                    print(f'{name} 발견: 행 {idx}, {col}')
```

### B. 참고 자료

- 개인정보보호법 (법률 제18583호)
- 개인정보 비식별 조치 가이드라인 (개인정보보호위원회, 2016)
- 데이터 3법 (개인정보보호법, 정보통신망법, 신용정보법)

---

**보고서 작성자**: 이상민
**승인자**: (승인자명)
**최종 업데이트**: 2025년 10월 28일
